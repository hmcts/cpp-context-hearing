<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <process id="nowsMaterialUpload" name="nowsMaterialUpload" isExecutable="true">
    <startEvent id="materialUploadStart" name="Start"></startEvent>
    <serviceTask id="uploadMaterial" name="Upload Material" activiti:delegateExpression="${materialUpload}">
      <documentation>Task to call Material upload command</documentation>
    </serviceTask>
    <receiveTask id="receiveMaterialUploadedConfirmation" name="Awaits Material Uploaded">
      <documentation>Waits for public message for Material Upload confirmation</documentation>
    </receiveTask>
    <sequenceFlow id="uploadingMaterial" sourceRef="materialUploadStart" targetRef="uploadMaterial"></sequenceFlow>
    <sequenceFlow id="awaitingMaterialuploadConfirmation" sourceRef="uploadMaterial" targetRef="receiveMaterialUploadedConfirmation"></sequenceFlow>
    <serviceTask id="nowsMaterialStatusHearingUpdate" name="Nows Material Status Update in Hearing" activiti:delegateExpression="${nowsMaterialStatusUpdateHearing}"></serviceTask>
    <receiveTask id="receiveStatusUpdateConfirmationHearing" name="Receive Material Status Update HearingConfirmation"></receiveTask>
    <serviceTask id="nowsMaterialStatusHmpsUpdate" name="Nows Material Status Update in Hmps" activiti:delegateExpression="${nowsMaterialStatusUpdateHmps}"></serviceTask>
    <receiveTask id="receiveStatusUpdateConfirmationHmps" name="Receive Material Status Update Hmps Confirmation"></receiveTask>
    <sequenceFlow id="awaitMaterialStatusUpdateHmps" sourceRef="nowsMaterialStatusHmpsUpdate" targetRef="receiveStatusUpdateConfirmationHmps"></sequenceFlow>
    <endEvent id="materialUploadEnd" name="End"></endEvent>
    <sequenceFlow id="awaitingStatusUpdateHearingConfirmed" sourceRef="nowsMaterialStatusHearingUpdate" targetRef="receiveStatusUpdateConfirmationHearing"></sequenceFlow>
    <sequenceFlow id="flow1" sourceRef="receiveMaterialUploadedConfirmation" targetRef="nowsMaterialStatusHmpsUpdate"></sequenceFlow>
    <sequenceFlow id="flow2" sourceRef="receiveStatusUpdateConfirmationHmps" targetRef="nowsMaterialStatusHearingUpdate"></sequenceFlow>
    <sequenceFlow id="flow3" sourceRef="receiveStatusUpdateConfirmationHearing" targetRef="materialUploadEnd"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_nowsMaterialUpload">
    <bpmndi:BPMNPlane bpmnElement="nowsMaterialUpload" id="BPMNPlane_nowsMaterialUpload">
      <bpmndi:BPMNShape bpmnElement="materialUploadStart" id="BPMNShape_materialUploadStart">
        <omgdc:Bounds height="35.0" width="35.0" x="42.0" y="333.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="uploadMaterial" id="BPMNShape_uploadMaterial">
        <omgdc:Bounds height="55.0" width="105.0" x="170.0" y="319.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="receiveMaterialUploadedConfirmation" id="BPMNShape_receiveMaterialUploadedConfirmation">
        <omgdc:Bounds height="85.0" width="111.0" x="362.0" y="299.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="nowsMaterialStatusHearingUpdate" id="BPMNShape_nowsMaterialStatusHearingUpdate">
        <omgdc:Bounds height="91.0" width="131.0" x="610.0" y="120.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="receiveStatusUpdateConfirmationHearing" id="BPMNShape_receiveStatusUpdateConfirmationHearing">
        <omgdc:Bounds height="84.0" width="125.0" x="840.0" y="128.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="nowsMaterialStatusHmpsUpdate" id="BPMNShape_nowsMaterialStatusHmpsUpdate">
        <omgdc:Bounds height="81.0" width="141.0" x="590.0" y="420.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="receiveStatusUpdateConfirmationHmps" id="BPMNShape_receiveStatusUpdateConfirmationHmps">
        <omgdc:Bounds height="88.0" width="105.0" x="870.0" y="420.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="materialUploadEnd" id="BPMNShape_materialUploadEnd">
        <omgdc:Bounds height="35.0" width="35.0" x="1300.0" y="330.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="uploadingMaterial" id="BPMNEdge_uploadingMaterial">
        <omgdi:waypoint x="77.0" y="350.0"></omgdi:waypoint>
        <omgdi:waypoint x="170.0" y="346.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="awaitingMaterialuploadConfirmation" id="BPMNEdge_awaitingMaterialuploadConfirmation">
        <omgdi:waypoint x="275.0" y="346.0"></omgdi:waypoint>
        <omgdi:waypoint x="362.0" y="341.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="awaitMaterialStatusUpdateHmps" id="BPMNEdge_awaitMaterialStatusUpdateHmps">
        <omgdi:waypoint x="731.0" y="460.0"></omgdi:waypoint>
        <omgdi:waypoint x="870.0" y="464.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="awaitingStatusUpdateHearingConfirmed" id="BPMNEdge_awaitingStatusUpdateHearingConfirmed">
        <omgdi:waypoint x="741.0" y="165.0"></omgdi:waypoint>
        <omgdi:waypoint x="840.0" y="170.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="417.0" y="384.0"></omgdi:waypoint>
        <omgdi:waypoint x="660.0" y="420.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
        <omgdi:waypoint x="922.0" y="420.0"></omgdi:waypoint>
        <omgdi:waypoint x="675.0" y="211.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="902.0" y="212.0"></omgdi:waypoint>
        <omgdi:waypoint x="1317.0" y="330.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>