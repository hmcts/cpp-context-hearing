{
  "$schema":"http://json-schema.org/draft-04/schema#",
  "type":"object",
  "additionalProperties":false,
  "properties":{
    "hearingId":{
      "$ref":"#/definitions/uuid"
    },
    "startDate":{
      "$ref":"#/definitions/datePattern"
    },
    "startTime":{
      "$ref":"#/definitions/timePattern"
    },
    "roomName":{
      "type":"string"
    },
    "hearingType":{
      "type":"string"
    },
    "courtCentreName":{
      "type":"string"
    },
    "judge":{
      "$ref":"#/definitions/judge"
    },
    "roomId":{
      "$ref":"#/definitions/uuid"
    },
    "courtCentreId":{
      "$ref":"#/definitions/uuid"
    },
    "attendees":{
      "$ref":"#/definitions/attendees"
    },
    "cases":{
      "type":"array",
      "items":{
        "$ref":"#/definitions/case"
      }
    },
    "hearingDays": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref":"#/definitions/datePattern"
      }
    },
    "defenceWitnesses":{
      "type":"array",
      "items":{
        "$ref":"#/definitions/defenceWitnesse"
      }
    }
  },
  "required":[
    "attendees",
    "cases",
    "courtCentreId",
    "courtCentreName",
    "hearingId",
    "hearingDays",
    "hearingType",
    "judge",
    "roomId",
    "roomName",
    "startDate",
    "startTime"
  ],
  "definitions":{
    "judge":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "id":{
          "$ref":"#/definitions/uuid"
        },
        "title":{
          "type":"string"
        },
        "firstName":{
          "type":"string"
        },
        "lastName":{
          "type":"string"
        }
      },
      "required":[
        "firstName",
        "id",
        "lastName",
        "title"
      ]
    },
    "prosecutionCounsel":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "attendeeId":{
          "$ref":"#/definitions/uuid"
        },
        "status":{
          "type":"string"
        },
        "title":{
          "type":"string"
        },
        "firstName":{
          "type":"string"
        },
        "lastName":{
          "type":"string"
        },
        "hearingDays": {
          "type": "array",
          "items": {
            "$ref":"#/definitions/datePattern"
          }
        }
      },
      "required":[
        "attendeeId",
        "firstName",
        "lastName",
        "status",
        "title"
      ]
    },
    "defenceCounsel":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "attendeeId":{
          "type":"string"
        },
        "status":{
          "type":"string"
        },
        "defendantId":{
          "type":"string"
        },
        "title":{
          "type":"string"
        },
        "firstName":{
          "type":"string"
        },
        "lastName":{
          "type":"string"
        },
        "hearingDays": {
          "type": "array",
          "items": {
            "$ref":"#/definitions/datePattern"
          }
        }
      },
      "required":[
        "attendeeId",
        "firstName",
        "lastName",
        "status",
        "title"
      ]
    },
    "attendees":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "prosecutionCounsels":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/prosecutionCounsel"
          }
        },
        "defenceCounsels":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/defenceCounsel"
          }
        }
      },
      "required":[
        "defenceCounsels",
        "prosecutionCounsels"
      ]
    },
    "address":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "formattedAddress":{
          "type":"string"
        },
        "address1":{
          "type":"string"
        },
        "address2":{
          "type":"string"
        },
        "address3":{
          "type":"string"
        },
        "address4":{
          "type":"string"
        },
        "postCode":{
          "type":"string"
        }
      }
    },
    "offence":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "id":{
          "$ref":"#/definitions/uuid"
        },
        "wording":{
          "type":"string"
        },
        "count":{
          "type":"integer"
        },
        "title":{
          "type":"string"
        },
        "convictionDate":{
          "$ref":"#/definitions/datePattern"
        },
        "legislation":{
          "type":"string"
        },
        "plea":{
          "$ref":"#/definitions/plea"
        },
        "verdict":{
          "$ref":"#/definitions/verdict"
        }
      },
      "required":[
        "count",
        "id",
        "legislation",
        "title",
        "wording"
      ]
    },
    "defendant":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "defendantId":{
          "$ref":"#/definitions/uuid"
        },
        "personId":{
          "$ref":"#/definitions/uuid"
        },
        "firstName":{
          "type":"string"
        },
        "lastName":{
          "type":"string"
        },
        "homeTelephone":{
          "type":"string"
        },
        "mobile":{
          "type":"string"
        },
        "fax":{
          "type":"string"
        },
        "email":{
          "type":"string"
        },
        "address":{
          "$ref":"#/definitions/address"
        },
        "dateOfBirth":{
          "$ref":"#/definitions/datePattern"
        },
        "offences":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/offence"
          }
        }
      },
      "required":[
        "address",
        "dateOfBirth",
        "defendantId",
        "email",
        "fax",
        "firstName",
        "homeTelephone",
        "lastName",
        "mobile",
        "offences",
        "personId"
      ]
    },
    "witness": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/uuid"
        },
        "type": {
          "type": "string"
        },
        "classification": {
          "type": "string"
        },
        "personId": {
          "$ref": "#/definitions/uuid"
        },
        "title": {
          "type": "string"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "dateOfBirth": {
          "type": "string"
        },
        "nationality": {
          "type": "string"
        },
        "gender": {
          "type": "string"
        },
        "homeTelephone": {
          "type": "string"
        },
        "workTelephone": {
          "type": "string"
        },
        "mobile": {
          "type": "string"
        },
        "fax": {
          "type": "string"
        },
        "email": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "type",
        "classification",
        "personId"
      ]
    },

    "defenceWitnesse": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/uuid"
        },
        "type": {
          "type": "string"
        },
        "classification": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "defendants":{
          "type":"array",
          "properties":{
            "defendantId": {
              "$ref": "#/definitions/uuid"
            }
          },
          "required":[
            "defendantId"
          ]
        }
      },
      "required": [
        "id",
        "type",
        "classification",
        "firstName",
        "lastName",
        "defendants"
      ]
    },

    "case":{
      "type":"object",
      "properties":{
        "caseId":{
          "$ref":"#/definitions/uuid"
        },
        "caseUrn":{
          "type":"string"
        },
        "defendants":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/defendant"
          }
        },
        "witnesses": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/witness"
          }
        }
      },
      "required":[
        "caseId",
        "caseUrn",
        "defendants"
      ]
    },
    "plea":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "pleaId":{
          "$ref":"#/definitions/uuid"
        },
        "pleaDate":{
          "$ref":"#/definitions/datePattern"
        },
        "value":{
          "type":"string"
        }
      }
    },
    "value":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "id":{
          "$ref":"#/definitions/uuid"
        },
        "category":{
          "type":"string"
        },
        "categoryType":{
          "type":"string"
        },
        "verdictTypeId":{
          "$ref":"#/definitions/uuid"
        },        
        "lesserOffence":{
          "type":"string"
        },        
        "code":{
          "type":"string"
        },
        "description":{
          "type":"string"
        }
      }
    },
    "verdict":{
      "type":"object",
      "additionalProperties":false,
      "properties":{
        "verdictId":{
          "$ref":"#/definitions/uuid"
        },
        "hearingId":{
          "$ref":"#/definitions/uuid"
        },
        "value":{
          "$ref":"#/definitions/value"
        },
        "verdictDate":{
          "$ref":"#/definitions/datePattern"
        },
        "numberOfSplitJurors":{
          "type":"integer"
        },
        "numberOfJurors":{
          "type":"integer"
        },
        "unanimous":{
          "type":"boolean"
        }
      }
    },
    "uuid":{
      "type":"string",
      "pattern":"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$"
    },
    "datePattern":{
      "type":"string",
      "pattern":"^((([\\+-]?\\d{4}(?!\\d{2}\\b))\\-(0[13578]|1[02])\\-(0[1-9]|[12]\\d|3[01]))|(([\\+-]?\\d{4}(?!\\d{2}\\b))\\-(0[13456789]|1[012])\\-(0[1-9]|[12]\\d|30))|(([\\+-]?\\d{4}(?!\\d{2}\\b))\\-02\\-(0[1-9]|1\\d|2[0-8]))|(((1[6-9]|[2-9]\\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))\\-02\\-29))$"
    },
    "timePattern": {
       "type":"string",
       "pattern":"(2[0-3]|[01][0-9]):[0-5][0-9](:[0-5][0-9])?"
    }
  }
}